{"version":3,"sources":["webpack:///../../../src/components/VChip/VChip.ts","webpack:///./src/views/VoteItem.vue?3bcf","webpack:///./src/components/musicItem.vue?6d29","webpack:///src/components/musicItem.vue","webpack:///./src/components/musicItem.vue?625c","webpack:///./src/components/musicItem.vue","webpack:///src/views/VoteItem.vue","webpack:///./src/views/VoteItem.vue?d6ff","webpack:///./src/views/VoteItem.vue"],"names":["name","props","active","type","default","activeClass","this","chipGroup","close","closeIcon","closeLabel","disabled","draggable","filter","filterIcon","label","link","outlined","pill","tag","textColor","value","data","proxyClass","computed","classes","groupClasses","hasClose","Boolean","isClickable","created","breakingProps","original","replacement","methods","click","genFilter","children","$createElement","staticClass","left","genClose","right","size","attrs","$vuetify","lang","t","on","e","genContent","$slots","render","tabindex","setBackgroundColor","color","h","setTextColor","_vm","_h","_c","_self","_v","_s","itemInfo","title","_e","staticStyle","_l","item","key","musicId","artist","addBy","itemId","snackbar","model","addMusic","callback","$$v","$set","expression","add","buttonText","staticRenderFns","links","kugou","qq","netease","vote","count","component","VAvatar","VBtn","VCard","VCardSubtitle","VCardText","VCardTitle","VContainer","VImg","token","sessionStorage","getItem","sid","$route","params","id","isEnded","end","buttonCount","items","components","reload","$emit","content","clolor","VChip","VCol","VRow","VSpacer","VTextField"],"mappings":"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","file":"js/voteItem,.7ec9f93f.js","sourcesContent":["// Styles\nimport './VChip.sass'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Components\nimport { VExpandXTransition } from '../transitions'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Themeable from '../../mixins/themeable'\nimport { factory as ToggleableFactory } from '../../mixins/toggleable'\nimport Routable from '../../mixins/routable'\nimport Sizeable from '../../mixins/sizeable'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\nimport { PropValidator, PropType } from 'vue/types/options'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Sizeable,\n  Routable,\n  Themeable,\n  GroupableFactory('chipGroup'),\n  ToggleableFactory('inputValue')\n).extend({\n  name: 'v-chip',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    activeClass: {\n      type: String,\n      default (): string | undefined {\n        if (!this.chipGroup) return ''\n\n        return this.chipGroup.activeClass\n      },\n    } as any as PropValidator<string>,\n    close: Boolean,\n    closeIcon: {\n      type: String,\n      default: '$delete',\n    },\n    closeLabel: {\n      type: String,\n      default: '$vuetify.close',\n    },\n    disabled: Boolean,\n    draggable: Boolean,\n    filter: Boolean,\n    filterIcon: {\n      type: String,\n      default: '$complete',\n    },\n    label: Boolean,\n    link: Boolean,\n    outlined: Boolean,\n    pill: Boolean,\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    textColor: String,\n    value: null as any as PropType<any>,\n  },\n\n  data: () => ({\n    proxyClass: 'v-chip--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-chip': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-chip--clickable': this.isClickable,\n        'v-chip--disabled': this.disabled,\n        'v-chip--draggable': this.draggable,\n        'v-chip--label': this.label,\n        'v-chip--link': this.isLink,\n        'v-chip--no-color': !this.color,\n        'v-chip--outlined': this.outlined,\n        'v-chip--pill': this.pill,\n        'v-chip--removable': this.hasClose,\n        ...this.themeClasses,\n        ...this.sizeableClasses,\n        ...this.groupClasses,\n      }\n    },\n    hasClose (): boolean {\n      return Boolean(this.close)\n    },\n    isClickable (): boolean {\n      return Boolean(\n        Routable.options.computed.isClickable.call(this) ||\n        this.chipGroup\n      )\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['outline', 'outlined'],\n      ['selected', 'input-value'],\n      ['value', 'active'],\n      ['@input', '@active.sync'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      this.$emit('click', e)\n\n      this.chipGroup && this.toggle()\n    },\n    genFilter (): VNode {\n      const children = []\n\n      if (this.isActive) {\n        children.push(\n          this.$createElement(VIcon, {\n            staticClass: 'v-chip__filter',\n            props: { left: true },\n          }, this.filterIcon)\n        )\n      }\n\n      return this.$createElement(VExpandXTransition, children)\n    },\n    genClose (): VNode {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-chip__close',\n        props: {\n          right: true,\n          size: 18,\n        },\n        attrs: {\n          'aria-label': this.$vuetify.lang.t(this.closeLabel),\n        },\n        on: {\n          click: (e: Event) => {\n            e.stopPropagation()\n            e.preventDefault()\n\n            this.$emit('click:close')\n            this.$emit('update:active', false)\n          },\n        },\n      }, this.closeIcon)\n    },\n    genContent (): VNode {\n      return this.$createElement('span', {\n        staticClass: 'v-chip__content',\n      }, [\n        this.filter && this.genFilter(),\n        this.$slots.default,\n        this.hasClose && this.genClose(),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.genContent()]\n    let { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      draggable: this.draggable ? 'true' : undefined,\n      tabindex: this.chipGroup && !this.disabled ? 0 : data.attrs!.tabindex,\n    }\n    data.directives!.push({\n      name: 'show',\n      value: this.active,\n    })\n    data = this.setBackgroundColor(this.color, data)\n\n    const color = this.textColor || (this.outlined && this.color)\n\n    return h(tag, this.setTextColor(color, data), children)\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-card',{attrs:{\"elevation\":\"2\"}},[_c('v-card-title',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.itemInfo.title)+\" \"),_c('v-spacer'),(_vm.itemInfo.isEnded)?_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":\"red\",\"text-color\":\"white\"}},[_vm._v(\"已结束\")]):_vm._e()],1),_c('v-card-subtitle',[_vm._v(\"选择一首你喜欢的歌曲，为它投票吧。\")]),_c('v-card-text',{staticClass:\"text-body-2\"},[_c('ul',{staticStyle:{\"color\":\"black\"}},[_c('li',[_vm._v(\"歌曲语言只能是中文普通话或英文，其中以中文为主\")]),_c('li',[_vm._v(\"歌词内容必须符合积极向上之主旨，杜绝低俗反动之内容\")]),_c('li',[_vm._v(\" 午歌多用流行音乐，节奏明快、易于演唱。 \"),_c('strong',[_vm._v(\"不建议添加说唱部分过多的、曲调过高的歌曲。\")])]),_c('li',[_vm._v(\" 不要恶意添加不当内容， \"),_c('strong',[_vm._v(\"你的姓名会显示在你所添加内容的旁\")])]),_c('li',[_c('strong',[_vm._v(\"每次投票将按照票数排名从前往后选取歌曲，每周一换\")])])])]),_vm._l((_vm.items),function(item){return _c('music-item',{key:item.musicId,attrs:{\"title\":item.title,\"artist\":item.artist,\"add-by\":item.addBy,\"music-id\":item.musicId,\"vote-item\":_vm.itemId},on:{\"showSnackbar\":_vm.snackbar}})}),_c('v-container',[_c('v-card',{attrs:{\"elevation\":\"4\"}},[_c('v-card-title',[_c('span',{staticClass:\"float-left\"},[_vm._v(\"没有喜欢的？添加一首！\")])]),_c('v-card-subtitle',[_vm._v(\"请不要添加列表中已有歌曲\")]),_c('v-card-text',[_c('div',{staticClass:\"ma-2\"},[_c('v-text-field',{attrs:{\"label\":\"歌曲标题\",\"filled\":\"\"},model:{value:(_vm.addMusic.title),callback:function ($$v) {_vm.$set(_vm.addMusic, \"title\", $$v)},expression:\"addMusic.title\"}}),_c('v-text-field',{attrs:{\"label\":\"歌手/作者\",\"filled\":\"\"},model:{value:(_vm.addMusic.artist),callback:function ($$v) {_vm.$set(_vm.addMusic, \"artist\", $$v)},expression:\"addMusic.artist\"}}),_c('v-btn',{attrs:{\"color\":\"light-blue\",\"block\":\"\"},on:{\"click\":_vm.add}},[_vm._v(_vm._s(_vm.buttonText))])],1)])],1)],1)],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{attrs:{\"elevation\":\"4\"}},[_c('v-card-title',[_c('span',{staticClass:\"float-left\"},[_vm._v(_vm._s(_vm.title)+\" - \"+_vm._s(_vm.artist))])]),_c('v-card-subtitle',[_vm._v(\"由\"+_vm._s(_vm.addBy)+\"添加\")]),_c('v-card-text',[_c('span',[_vm._v(\"搜索这首歌：\")]),_c('a',{attrs:{\"href\":_vm.links.kugou,\"target\":\"_blank\"}},[_c('v-avatar',[_c('v-img',{attrs:{\"src\":\"https://www.kugou.com/yy/static/images/play/logo.png\",\"max-height\":\"32\",\"max-width\":\"32\"}})],1)],1),_c('a',{attrs:{\"href\":_vm.links.qq,\"target\":\"_blank\"}},[_c('v-avatar',[_c('v-img',{attrs:{\"src\":\"https://y.qq.com/favicon.ico\",\"max-height\":\"32\",\"max-width\":\"32\"}})],1)],1),_c('a',{attrs:{\"href\":_vm.links.netease,\"target\":\"_blank\"}},[_c('v-avatar',[_c('v-img',{attrs:{\"src\":\"https://s1.music.126.net/style/favicon.ico\",\"max-height\":\"32\",\"max-width\":\"32\"}})],1)],1),_c('v-btn',{staticClass:\"float-right\",attrs:{\"color\":\"light-blue\"},on:{\"click\":_vm.vote}},[_vm._v(_vm._s(_vm.buttonText))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-card elevation=\"4\">\n      <v-card-title>\n        <span class=\"float-left\">{{title}} - {{artist}}</span>\n      </v-card-title>\n      <v-card-subtitle>由{{addBy}}添加</v-card-subtitle>\n      <v-card-text>\n        <span>搜索这首歌：</span>\n        <a :href=\"links.kugou\" target=\"_blank\">\n          <v-avatar>\n            <v-img\n              src=\"https://www.kugou.com/yy/static/images/play/logo.png\"\n              max-height=\"32\"\n              max-width=\"32\"\n            />\n          </v-avatar>\n        </a>\n        <a :href=\"links.qq\" target=\"_blank\">\n          <v-avatar>\n            <v-img src=\"https://y.qq.com/favicon.ico\" max-height=\"32\" max-width=\"32\" />\n          </v-avatar>\n        </a>\n        <a :href=\"links.netease\" target=\"_blank\">\n          <v-avatar>\n            <v-img src=\"https://s1.music.126.net/style/favicon.ico\" max-height=\"32\" max-width=\"32\" />\n          </v-avatar>\n        </a>\n        <v-btn color=\"light-blue\" class=\"float-right\" @click=\"vote\">{{buttonText}}</v-btn>\n      </v-card-text>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  props: ['title', 'add-by', 'artist', 'music-id', 'vote-item'],\n  data: function () {\n    return {\n      buttonText: '投票',\n      count: 0,\n      links:{\n        kugou:`https://www.kugou.com/yy/html/search.html#searchKeyWord=${this.artist}%20-%20${this.title}`,\n        qq:`https://y.qq.com/portal/search.html#w=${this.title}-%20${this.artist}`,\n        netease:`https://music.163.com/#/search/m/?s=${this.title}-${this.artist}`\n      }\n    }\n  },\n  methods: {\n    vote: async function () {\n      if (!this.count) {\n        this.buttonText = '仅一次机会，确定？';\n        this.count += 1;\n        return\n      }\n      let res = await this.tcb.callFunction({\n        name: 'vote-music',\n        data: {\n          token: sessionStorage.getItem('token'),\n          sid: sessionStorage.getItem('sid'),\n          voteItem: this.voteItem,\n          musicId: this.musicId\n        },\n        parse: true\n      })\n      if (res.code) {\n        console.error(`TCB Error: ${res.code} Message: ${res.message} requestId: ${res.requestId}`);\n        return this.$emit('showSnackbar', \"服务器内部错误，请稍后再试\", \"error\");\n      }\n      if (!res.result.status) {\n        console.error(`Vote Error: requestId: ${res.requestId}`);\n        this.buttonText = '投票出错，点击重试';\n        return this.$emit('showSnackbar', res.result.message, \"error\");\n      }\n      this.$emit('showSnackbar', '投票成功！', \"success\");\n      this.$router.push(`/voteResult/${this.voteItem}`);\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./musicItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./musicItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./musicItem.vue?vue&type=template&id=35f524ec&\"\nimport script from \"./musicItem.vue?vue&type=script&lang=js&\"\nexport * from \"./musicItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VContainer,VImg})\n","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col cols=\"12\" md=\"8\" offset-md=\"2\">\r\n        <v-card elevation=\"2\">\r\n          <v-card-title class=\"font-weight-bold\">\r\n            {{itemInfo.title}}\r\n            <v-spacer />\r\n            <v-chip class=\"ma-2\" color=\"red\" text-color=\"white\" v-if=\"itemInfo.isEnded\">已结束</v-chip>\r\n          </v-card-title>\r\n          <v-card-subtitle>选择一首你喜欢的歌曲，为它投票吧。</v-card-subtitle>\r\n          <v-card-text class=\"text-body-2\">\r\n            <ul style=\"color:black\">\r\n              <li>歌曲语言只能是中文普通话或英文，其中以中文为主</li>\r\n              <li>歌词内容必须符合积极向上之主旨，杜绝低俗反动之内容</li>\r\n              <li>\r\n                午歌多用流行音乐，节奏明快、易于演唱。\r\n                <strong>不建议添加说唱部分过多的、曲调过高的歌曲。</strong>\r\n              </li>\r\n              <li>\r\n                不要恶意添加不当内容，\r\n                <strong>你的姓名会显示在你所添加内容的旁</strong>\r\n              </li>\r\n              <li>\r\n                <strong>每次投票将按照票数排名从前往后选取歌曲，每周一换</strong>\r\n              </li>\r\n            </ul>\r\n          </v-card-text>\r\n          <music-item\r\n            v-for=\"item in items\"\r\n            :key=\"item.musicId\"\r\n            :title=\"item.title\"\r\n            :artist=\"item.artist\"\r\n            :add-by=\"item.addBy\"\r\n            :music-id=\"item.musicId\"\r\n            :vote-item=\"itemId\"\r\n            @showSnackbar=\"snackbar\"\r\n          />\r\n          <v-container>\r\n            <v-card elevation=\"4\">\r\n              <v-card-title>\r\n                <span class=\"float-left\">没有喜欢的？添加一首！</span>\r\n              </v-card-title>\r\n              <v-card-subtitle>请不要添加列表中已有歌曲</v-card-subtitle>\r\n              <v-card-text>\r\n                <div class=\"ma-2\">\r\n                  <v-text-field label=\"歌曲标题\" filled v-model=\"addMusic.title\"></v-text-field>\r\n                  <v-text-field label=\"歌手/作者\" filled v-model=\"addMusic.artist\"></v-text-field>\r\n                  <v-btn color=\"light-blue\" block @click=\"add\">{{buttonText}}</v-btn>\r\n                </div>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-container>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport MusicItem from '../components/musicItem.vue';\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      token: sessionStorage.getItem('token'),\r\n      sid: sessionStorage.getItem('sid'),\r\n      itemId: this.$route.params.id,\r\n      itemInfo: {\r\n        title: '正在加载',\r\n        isEnded: false,\r\n        end: '2004-3-30'\r\n      },\r\n      buttonText: '添加',\r\n      buttonCount: 0,\r\n      items: [\r\n        { musicId: '123', title: '233', artist: '333', addBy: '444' },\r\n        { musicId: '1234', title: '233', artist: '333', addBy: '444' },\r\n        { musicId: '12345', title: '233', artist: '333', addBy: '444' }\r\n      ],\r\n      addMusic: {\r\n        title: null,\r\n        artist: null\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    'music-item': MusicItem\r\n  },\r\n  methods: {\r\n    reload: async function () {\r\n      let res = await this.tcb.callFunction({\r\n        name: 'get-item',\r\n        data: {\r\n          token: this.token,\r\n          sid: this.sid,\r\n          voteItem: this.itemId\r\n        },\r\n        parse: true\r\n      })\r\n      if (res.code) {\r\n        console.error(`TCB Error: ${res.code} Message: ${res.message} requestId: ${res.requestId}`);\r\n        return this.$emit('showSnackbar', \"服务器内部错误，请稍后再试\", \"error\");\r\n      }\r\n      if (!res.result.status) {\r\n        console.error(`Login Error: sid: ${this.g_sid} requestId: ${res.requestId}`);\r\n        this.$emit('showSnackbar', res.result.message, \"error\");\r\n        return this.$router.push('/');\r\n      }\r\n      if (res.result.data.isVoted) return this.$router.push(`/voteResult/${this.itemId}`);\r\n      this.itemInfo.title = res.result.data.name;\r\n      this.itemInfo.isEnded = res.result.data.isEnded;\r\n      this.itemInfo.end = res.result.data.end;\r\n      this.items = res.result.data.musics;\r\n    },\r\n    snackbar: function (content, clolor) {\r\n      this.$emit('showSnackbar', content, clolor);\r\n    },\r\n    add: async function () {\r\n      if (!this.buttonCount) {\r\n        this.buttonText = '仅一次机会，确定？';\r\n        this.buttonCount += 1;\r\n        return\r\n      }\r\n      let res2 = await this.tcb.callFunction({\r\n        name: 'add-music',\r\n        data: {\r\n          token: sessionStorage.getItem('token'),\r\n          sid: sessionStorage.getItem('sid'),\r\n          voteItem: this.itemId,\r\n          title: this.addMusic.title,\r\n          artist: this.addMusic.artist\r\n        },\r\n        parse: true\r\n      })\r\n      if (res2.code) {\r\n        console.error(`TCB Error: ${res2.code} Message: ${res2.message} requestId: ${res2.requestId}`);\r\n        return this.$emit('showSnackbar', \"服务器内部错误，请稍后再试\", \"error\");\r\n      }\r\n      if (!res2.result.status) {\r\n        console.error(`Vote Error: requestId: ${res2.requestId}`);\r\n        this.buttonText = '添加出错，点击重试';\r\n        return this.$emit('showSnackbar', res2.result.message, \"error\");\r\n      }\r\n      this.$emit('showSnackbar', '添加成功！', \"success\");\r\n      this.$router.push(`/voteResult/${this.itemId}`);\r\n    }\r\n  },\r\n  created: function () {\r\n    this.reload();\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoteItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoteItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoteItem.vue?vue&type=template&id=17d72e48&\"\nimport script from \"./VoteItem.vue?vue&type=script&lang=js&\"\nexport * from \"./VoteItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VChip,VCol,VContainer,VRow,VSpacer,VTextField})\n"],"sourceRoot":""}